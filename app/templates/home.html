{% extends "base.html" %}
{% block title %}Scores â€” The Live Sports Lounge{% endblock %}

{% block content %}
<!-- Date header -->
<div class="mb-6">
    <h1 class="text-2xl font-bold text-white">Scores</h1>
    <p class="text-sm text-gray-400 mt-1" id="date-header"></p>
</div>

<!-- Sport pills -->
<div class="flex gap-2 mb-6">
    <a href="/?sport=all"
       class="px-4 py-1.5 rounded-full text-sm font-semibold transition
              {% if current_sport == 'all' %}bg-accent text-dark{% else %}bg-surface-light text-gray-400 hover:bg-surface-lighter hover:text-gray-200{% endif %}">
        All
    </a>
    <a href="/?sport=nba"
       class="px-4 py-1.5 rounded-full text-sm font-semibold transition
              {% if current_sport == 'nba' %}bg-blue-600 text-white{% else %}bg-surface-light text-gray-400 hover:bg-surface-lighter hover:text-gray-200{% endif %}">
        NBA
    </a>
    <a href="/?sport=ncaamb"
       class="px-4 py-1.5 rounded-full text-sm font-semibold transition
              {% if current_sport == 'ncaamb' %}bg-orange-600 text-white{% else %}bg-surface-light text-gray-400 hover:bg-surface-lighter hover:text-gray-200{% endif %}">
        NCAAMB
    </a>
</div>

<!-- Game cards -->
<div id="scoreboard" class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
    {% for g in games %}
    <a href="/game/{{ g.game_id }}"
       class="game-card bg-surface rounded-xl border border-white/5 hover:border-accent/30 transition p-5 block"
       data-game-id="{{ g.game_id }}">
        <!-- Status badge + sport -->
        <div class="flex items-center justify-between mb-4">
            <span class="text-xs font-bold uppercase tracking-wide
                {% if g.status == 'live' %}text-green-400{% elif g.status == 'final' %}text-gray-500{% else %}text-amber-400{% endif %}">
                {% if g.status == 'live' %}
                    <span class="live-pulse inline-block w-2 h-2 bg-green-400 rounded-full mr-1"></span>
                    <span class="status-text">Q{{ g.period }} {{ g.clock }}</span>
                {% elif g.status == 'final' %}
                    Final
                {% else %}
                    {{ g.start_time }}
                {% endif %}
            </span>
            <span class="text-[10px] font-bold tracking-widest px-2 py-0.5 rounded
                {% if g.sport == 'nba' %}bg-blue-600/20 text-blue-400{% else %}bg-orange-600/20 text-orange-400{% endif %}">
                {{ g.sport|upper }}
            </span>
        </div>

        <!-- Teams + scores -->
        <div class="space-y-2">
            <div class="flex items-center justify-between">
                <span class="font-semibold text-sm text-gray-200 truncate">{{ g.away_team }}</span>
                <span class="font-mono font-bold text-xl text-white away-score">{{ g.away_score }}</span>
            </div>
            <div class="flex items-center justify-between">
                <span class="font-semibold text-sm text-gray-200 truncate">{{ g.home_team }}</span>
                <span class="font-mono font-bold text-xl text-white home-score">{{ g.home_score }}</span>
            </div>
        </div>
    </a>
    {% endfor %}
</div>

{% if not games %}
<div class="text-center py-16 text-gray-500">
    <p class="text-lg">No games scheduled</p>
    <p class="text-sm mt-2">Check back later for live scores</p>
</div>
{% endif %}
{% endblock %}

{% block scripts %}
<script>
    // Set date header
    const now = new Date();
    const opts = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
    document.getElementById('date-header').textContent = now.toLocaleDateString('en-US', opts);
</script>
<script src="/static/js/scoreboard.js"></script>
{% endblock %}
